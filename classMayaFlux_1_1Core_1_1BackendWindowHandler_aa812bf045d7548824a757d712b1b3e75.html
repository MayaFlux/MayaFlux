<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MayaFlux: MayaFlux::Core::BackendWindowHandler::setup_backend_service</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MayaFlux<span id="projectnumber">&#160;0.2.0</span>
   </div>
   <div id="projectbrief">Digital-First Multimedia Processing Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classMayaFlux_1_1Core_1_1BackendWindowHandler_aa812bf045d7548824a757d712b1b3e75.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="contents">
<a id="aa812bf045d7548824a757d712b1b3e75" name="aa812bf045d7548824a757d712b1b3e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa812bf045d7548824a757d712b1b3e75">&#9670;&#160;</a></span>setup_backend_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MayaFlux::Core::BackendWindowHandler::setup_backend_service </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="structMayaFlux_1_1Registry_1_1Service_1_1DisplayService.html">Registry::Service::DisplayService</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>display_service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BackendWindowHandler_8cpp_source.html#l00062">62</a> of file <a class="el" href="BackendWindowHandler_8cpp_source.html">BackendWindowHandler.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>    display_service-&gt;submit_and_present = [<span class="keyword">this</span>](</div>
<div class="line"><span class="lineno">   65</span>                                              <span class="keyword">const</span> std::shared_ptr&lt;void&gt;&amp; window_ptr,</div>
<div class="line"><span class="lineno">   66</span>                                              uint64_t primary_cmd_bits) {</div>
<div class="line"><span class="lineno">   67</span>        <span class="keyword">auto</span> window = std::static_pointer_cast&lt;Window&gt;(window_ptr);</div>
<div class="line"><span class="lineno">   68</span>        vk::CommandBuffer primary_cmd = *<span class="keyword">reinterpret_cast&lt;</span>vk::CommandBuffer*<span class="keyword">&gt;</span>(&amp;primary_cmd_bits);</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>        this-&gt;<a class="code hl_function" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_ac520b26cc34c777ba30e0a26bfd11660.html#ac520b26cc34c777ba30e0a26bfd11660">submit_and_present</a>(window, primary_cmd);</div>
<div class="line"><span class="lineno">   71</span>    };</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>    display_service-&gt;wait_idle = [<span class="keyword">this</span>]() {</div>
<div class="line"><span class="lineno">   74</span>        <a class="code hl_variable" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_a6471e3bb0fe7f5c466dc5f19317e617b.html#a6471e3bb0fe7f5c466dc5f19317e617b">m_context</a>.<a class="code hl_function" href="classMayaFlux_1_1Core_1_1VKContext_a41228db586851246809c40f704b64292.html#a41228db586851246809c40f704b64292">get_device</a>().waitIdle();</div>
<div class="line"><span class="lineno">   75</span>    };</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>    display_service-&gt;resize_surface = [<span class="keyword">this</span>](<span class="keyword">const</span> std::shared_ptr&lt;void&gt;&amp; window_ptr, uint32_t width, uint32_t height) {</div>
<div class="line"><span class="lineno">   78</span>        <span class="keyword">auto</span> window = std::static_pointer_cast&lt;Window&gt;(window_ptr);</div>
<div class="line"><span class="lineno">   79</span>        window-&gt;set_size(width, height);</div>
<div class="line"><span class="lineno">   80</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; ctx : <a class="code hl_variable" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_aa4162043169e9d28a541ffe716c3ac41.html#aa4162043169e9d28a541ffe716c3ac41">m_window_contexts</a>) {</div>
<div class="line"><span class="lineno">   81</span>            <span class="keywordflow">if</span> (ctx.window == window) {</div>
<div class="line"><span class="lineno">   82</span>                ctx.needs_recreation = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   83</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   84</span>            }</div>
<div class="line"><span class="lineno">   85</span>        }</div>
<div class="line"><span class="lineno">   86</span>    };</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    display_service-&gt;get_swapchain_image_count = [<span class="keyword">this</span>](<span class="keyword">const</span> std::shared_ptr&lt;void&gt;&amp; window_ptr) -&gt; uint32_t {</div>
<div class="line"><span class="lineno">   89</span>        <span class="keyword">auto</span> window = std::static_pointer_cast&lt;Window&gt;(window_ptr);</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; ctx : <a class="code hl_variable" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_aa4162043169e9d28a541ffe716c3ac41.html#aa4162043169e9d28a541ffe716c3ac41">m_window_contexts</a>) {</div>
<div class="line"><span class="lineno">   91</span>            <span class="keywordflow">if</span> (ctx.window == window) {</div>
<div class="line"><span class="lineno">   92</span>                <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(ctx.swapchain-&gt;get_image_count());</div>
<div class="line"><span class="lineno">   93</span>            }</div>
<div class="line"><span class="lineno">   94</span>        }</div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   96</span>    };</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>    display_service-&gt;get_swapchain_format = [<span class="keyword">this</span>](<span class="keyword">const</span> std::shared_ptr&lt;void&gt;&amp; window_ptr) -&gt; uint32_t {</div>
<div class="line"><span class="lineno">   99</span>        <span class="keyword">auto</span> window = std::static_pointer_cast&lt;Window&gt;(window_ptr);</div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; ctx : <a class="code hl_variable" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_aa4162043169e9d28a541ffe716c3ac41.html#aa4162043169e9d28a541ffe716c3ac41">m_window_contexts</a>) {</div>
<div class="line"><span class="lineno">  101</span>            <span class="keywordflow">if</span> (ctx.window == window) {</div>
<div class="line"><span class="lineno">  102</span>                <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(ctx.swapchain-&gt;get_image_format());</div>
<div class="line"><span class="lineno">  103</span>            }</div>
<div class="line"><span class="lineno">  104</span>        }</div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  106</span>    };</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>    display_service-&gt;get_swapchain_extent = [<span class="keyword">this</span>](</div>
<div class="line"><span class="lineno">  109</span>                                                <span class="keyword">const</span> std::shared_ptr&lt;void&gt;&amp; window_ptr,</div>
<div class="line"><span class="lineno">  110</span>                                                uint32_t&amp; out_width,</div>
<div class="line"><span class="lineno">  111</span>                                                uint32_t&amp; out_height) {</div>
<div class="line"><span class="lineno">  112</span>        <span class="keyword">auto</span> window = std::static_pointer_cast&lt;Window&gt;(window_ptr);</div>
<div class="line"><span class="lineno">  113</span>        <span class="keyword">auto</span>* context = <a class="code hl_function" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_ae201b3e2121031059586c9abd5ba8480.html#ae201b3e2121031059586c9abd5ba8480">find_window_context</a>(window);</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>        <span class="keywordflow">if</span> (context &amp;&amp; context-&gt;swapchain) {</div>
<div class="line"><span class="lineno">  116</span>            <span class="keyword">auto</span> extent = context-&gt;swapchain-&gt;get_extent();</div>
<div class="line"><span class="lineno">  117</span>            out_width = extent.width;</div>
<div class="line"><span class="lineno">  118</span>            out_height = extent.height;</div>
<div class="line"><span class="lineno">  119</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  120</span>            out_width = 0;</div>
<div class="line"><span class="lineno">  121</span>            out_height = 0;</div>
<div class="line"><span class="lineno">  122</span>        }</div>
<div class="line"><span class="lineno">  123</span>    };</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>    display_service-&gt;acquire_next_swapchain_image = [<span class="keyword">this</span>](<span class="keyword">const</span> std::shared_ptr&lt;void&gt;&amp; window_ptr) -&gt; uint64_t {</div>
<div class="line"><span class="lineno">  126</span>        <span class="keyword">auto</span> window = std::static_pointer_cast&lt;Window&gt;(window_ptr);</div>
<div class="line"><span class="lineno">  127</span>        <span class="keyword">auto</span>* ctx = <a class="code hl_function" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_ae201b3e2121031059586c9abd5ba8480.html#ae201b3e2121031059586c9abd5ba8480">find_window_context</a>(window);</div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">if</span> (!ctx) {</div>
<div class="line"><span class="lineno">  129</span>            <a class="code hl_define" href="Archivist_8hpp_a73c375e804fe99d5f0d6ad09d5a41837.html#a73c375e804fe99d5f0d6ad09d5a41837">MF_RT_ERROR</a>(<a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa83168e6cb289d732cc78427b51f93153">Journal::Component::Core</a>, <a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2dacc0f8243381df540a4c3aa0d950413b9">Journal::Context::GraphicsCallback</a>,</div>
<div class="line"><span class="lineno">  130</span>                <span class="stringliteral">&quot;Window &#39;{}&#39; not registered for swapchain acquisition&quot;</span>,</div>
<div class="line"><span class="lineno">  131</span>                window-&gt;get_create_info().title);</div>
<div class="line"><span class="lineno">  132</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  133</span>        }</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>        <span class="keyword">auto</span> device = <a class="code hl_variable" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_a6471e3bb0fe7f5c466dc5f19317e617b.html#a6471e3bb0fe7f5c466dc5f19317e617b">m_context</a>.<a class="code hl_function" href="classMayaFlux_1_1Core_1_1VKContext_a41228db586851246809c40f704b64292.html#a41228db586851246809c40f704b64292">get_device</a>();</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordtype">size_t</span> frame_index = ctx-&gt;current_frame;</div>
<div class="line"><span class="lineno">  137</span>        <span class="keyword">auto</span>&amp; in_flight = ctx-&gt;in_flight[frame_index];</div>
<div class="line"><span class="lineno">  138</span>        <span class="keyword">auto</span>&amp; image_available = ctx-&gt;image_available[frame_index];</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">if</span> (device.waitForFences(1, &amp;in_flight, VK_TRUE, UINT64_MAX) == vk::Result::eTimeout) {</div>
<div class="line"><span class="lineno">  141</span>            <a class="code hl_define" href="Archivist_8hpp_a546366b65403e0699d25b18a0322f1ef.html#a546366b65403e0699d25b18a0322f1ef">MF_RT_WARN</a>(<a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa83168e6cb289d732cc78427b51f93153">Journal::Component::Core</a>, <a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2dacc0f8243381df540a4c3aa0d950413b9">Journal::Context::GraphicsCallback</a>,</div>
<div class="line"><span class="lineno">  142</span>                <span class="stringliteral">&quot;Fence timeout during swapchain acquisition for window &#39;{}&#39;&quot;</span>,</div>
<div class="line"><span class="lineno">  143</span>                window-&gt;get_create_info().title);</div>
<div class="line"><span class="lineno">  144</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  145</span>        }</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>        <span class="keyword">auto</span> image_index_opt = ctx-&gt;swapchain-&gt;acquire_next_image(image_available);</div>
<div class="line"><span class="lineno">  148</span>        <span class="keywordflow">if</span> (!image_index_opt.has_value()) {</div>
<div class="line"><span class="lineno">  149</span>            ctx-&gt;needs_recreation = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  150</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  151</span>        }</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>        ctx-&gt;current_image_index = image_index_opt.value();</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">if</span> (device.resetFences(1, &amp;in_flight) != vk::Result::eSuccess) {</div>
<div class="line"><span class="lineno">  156</span>            <a class="code hl_define" href="Archivist_8hpp_a73c375e804fe99d5f0d6ad09d5a41837.html#a73c375e804fe99d5f0d6ad09d5a41837">MF_RT_ERROR</a>(<a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa83168e6cb289d732cc78427b51f93153">Journal::Component::Core</a>, <a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2dacc0f8243381df540a4c3aa0d950413b9">Journal::Context::GraphicsCallback</a>,</div>
<div class="line"><span class="lineno">  157</span>                <span class="stringliteral">&quot;Failed to reset fence for window &#39;{}&#39;&quot;</span>,</div>
<div class="line"><span class="lineno">  158</span>                window-&gt;get_create_info().title);</div>
<div class="line"><span class="lineno">  159</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  160</span>        }</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; images = ctx-&gt;swapchain-&gt;get_images();</div>
<div class="line"><span class="lineno">  163</span>        VkImage raw = images[ctx-&gt;current_image_index];</div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(raw);</div>
<div class="line"><span class="lineno">  165</span>    };</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    display_service-&gt;get_current_image_view = [<span class="keyword">this</span>](<span class="keyword">const</span> std::shared_ptr&lt;void&gt;&amp; window_ptr) -&gt; <span class="keywordtype">void</span>* {</div>
<div class="line"><span class="lineno">  168</span>        <span class="keyword">auto</span> window = std::static_pointer_cast&lt;Window&gt;(window_ptr);</div>
<div class="line"><span class="lineno">  169</span>        <span class="keyword">auto</span>* context = <a class="code hl_function" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_ae201b3e2121031059586c9abd5ba8480.html#ae201b3e2121031059586c9abd5ba8480">find_window_context</a>(window);</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordflow">if</span> (!context || !context-&gt;swapchain) {</div>
<div class="line"><span class="lineno">  172</span>            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  173</span>        }</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; image_views = context-&gt;swapchain-&gt;get_image_views();</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> (context-&gt;current_image_index &gt;= image_views.size()) {</div>
<div class="line"><span class="lineno">  177</span>            <a class="code hl_define" href="Archivist_8hpp_a73c375e804fe99d5f0d6ad09d5a41837.html#a73c375e804fe99d5f0d6ad09d5a41837">MF_RT_ERROR</a>(<a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa83168e6cb289d732cc78427b51f93153">Journal::Component::Core</a>, <a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2dacc0f8243381df540a4c3aa0d950413b9">Journal::Context::GraphicsCallback</a>,</div>
<div class="line"><span class="lineno">  178</span>                <span class="stringliteral">&quot;Invalid current_image_index {} for window &#39;{}&#39; (swapchain has {} images)&quot;</span>,</div>
<div class="line"><span class="lineno">  179</span>                context-&gt;current_image_index,</div>
<div class="line"><span class="lineno">  180</span>                window-&gt;get_create_info().title,</div>
<div class="line"><span class="lineno">  181</span>                image_views.size());</div>
<div class="line"><span class="lineno">  182</span>            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  183</span>        }</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>        <span class="keyword">static</span> <span class="keyword">thread_local</span> vk::ImageView view;</div>
<div class="line"><span class="lineno">  186</span>        view = image_views[context-&gt;current_image_index];</div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;view);</div>
<div class="line"><span class="lineno">  188</span>    };</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>    display_service-&gt;get_current_swapchain_image = [<span class="keyword">this</span>](<span class="keyword">const</span> std::shared_ptr&lt;void&gt;&amp; window_ptr) -&gt; uint64_t {</div>
<div class="line"><span class="lineno">  191</span>        <span class="keyword">auto</span> window = std::static_pointer_cast&lt;Window&gt;(window_ptr);</div>
<div class="line"><span class="lineno">  192</span>        <span class="keyword">auto</span>* ctx = <a class="code hl_function" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_ae201b3e2121031059586c9abd5ba8480.html#ae201b3e2121031059586c9abd5ba8480">find_window_context</a>(window);</div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">if</span> (!ctx || !ctx-&gt;swapchain)</div>
<div class="line"><span class="lineno">  194</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; images = ctx-&gt;swapchain-&gt;get_images();</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">if</span> (ctx-&gt;current_image_index &gt;= images.size())</div>
<div class="line"><span class="lineno">  198</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span>VkImage<span class="keyword">&gt;</span>(images[ctx-&gt;current_image_index]));</div>
<div class="line"><span class="lineno">  201</span>    };</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    display_service-&gt;readback_swapchain_region = [<span class="keyword">this</span>](</div>
<div class="line"><span class="lineno">  204</span>                                                     <span class="keyword">const</span> std::shared_ptr&lt;void&gt;&amp; window_ptr,</div>
<div class="line"><span class="lineno">  205</span>                                                     <span class="keywordtype">void</span>* dst,</div>
<div class="line"><span class="lineno">  206</span>                                                     uint32_t <span class="comment">/*x_offset*/</span>,</div>
<div class="line"><span class="lineno">  207</span>                                                     uint32_t <span class="comment">/*y_offset*/</span>,</div>
<div class="line"><span class="lineno">  208</span>                                                     uint32_t pixel_width,</div>
<div class="line"><span class="lineno">  209</span>                                                     uint32_t pixel_height,</div>
<div class="line"><span class="lineno">  210</span>                                                     <span class="keywordtype">size_t</span> byte_count) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><span class="lineno">  211</span>        <span class="keyword">auto</span> window = std::static_pointer_cast&lt;Window&gt;(window_ptr);</div>
<div class="line"><span class="lineno">  212</span>        <span class="keyword">auto</span>* ctx = <a class="code hl_function" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_ae201b3e2121031059586c9abd5ba8480.html#ae201b3e2121031059586c9abd5ba8480">find_window_context</a>(window);</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">if</span> (!ctx || !ctx-&gt;swapchain) {</div>
<div class="line"><span class="lineno">  215</span>            <a class="code hl_define" href="Archivist_8hpp_a73c375e804fe99d5f0d6ad09d5a41837.html#a73c375e804fe99d5f0d6ad09d5a41837">MF_RT_ERROR</a>(<a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa83168e6cb289d732cc78427b51f93153">Journal::Component::Core</a>, <a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2dacc0f8243381df540a4c3aa0d950413b9">Journal::Context::GraphicsCallback</a>,</div>
<div class="line"><span class="lineno">  216</span>                <span class="stringliteral">&quot;readback_swapchain_region: window &#39;{}&#39; has no swapchain&quot;</span>,</div>
<div class="line"><span class="lineno">  217</span>                window-&gt;get_create_info().title);</div>
<div class="line"><span class="lineno">  218</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  219</span>        }</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_aa492da94243c3ba96241ea88f2fe0936.html#aa492da94243c3ba96241ea88f2fe0936">m_resource_manager</a>) {</div>
<div class="line"><span class="lineno">  222</span>            <a class="code hl_define" href="Archivist_8hpp_a73c375e804fe99d5f0d6ad09d5a41837.html#a73c375e804fe99d5f0d6ad09d5a41837">MF_RT_ERROR</a>(<a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa83168e6cb289d732cc78427b51f93153">Journal::Component::Core</a>, <a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2dacc0f8243381df540a4c3aa0d950413b9">Journal::Context::GraphicsCallback</a>,</div>
<div class="line"><span class="lineno">  223</span>                <span class="stringliteral">&quot;readback_swapchain_region: resource manager not set&quot;</span>);</div>
<div class="line"><span class="lineno">  224</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  225</span>        }</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; images = ctx-&gt;swapchain-&gt;get_images();</div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">if</span> (ctx-&gt;current_image_index &gt;= images.size()) {</div>
<div class="line"><span class="lineno">  229</span>            <a class="code hl_define" href="Archivist_8hpp_a73c375e804fe99d5f0d6ad09d5a41837.html#a73c375e804fe99d5f0d6ad09d5a41837">MF_RT_ERROR</a>(<a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa83168e6cb289d732cc78427b51f93153">Journal::Component::Core</a>, <a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2dacc0f8243381df540a4c3aa0d950413b9">Journal::Context::GraphicsCallback</a>,</div>
<div class="line"><span class="lineno">  230</span>                <span class="stringliteral">&quot;readback_swapchain_region: invalid image index {} for &#39;{}&#39;&quot;</span>,</div>
<div class="line"><span class="lineno">  231</span>                ctx-&gt;current_image_index, window-&gt;get_create_info().title);</div>
<div class="line"><span class="lineno">  232</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  233</span>        }</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>        <span class="keyword">auto</span> proxy = std::make_shared&lt;VKImage&gt;(</div>
<div class="line"><span class="lineno">  236</span>            pixel_width, pixel_height, 1U,</div>
<div class="line"><span class="lineno">  237</span>            ctx-&gt;swapchain-&gt;get_image_format(),</div>
<div class="line"><span class="lineno">  238</span>            <a class="code hl_enumvalue" href="classMayaFlux_1_1Core_1_1VKImage_a603d6ef31c19453be73d8a72929184ef.html#a603d6ef31c19453be73d8a72929184efacc301ce75e16247f3b96a3907519096c">VKImage::Usage::TEXTURE_2D</a>,</div>
<div class="line"><span class="lineno">  239</span>            <a class="code hl_enumvalue" href="classMayaFlux_1_1Core_1_1VKImage_aa3dbd587a3443bc4ce7261c6f1669a4a.html#aa3dbd587a3443bc4ce7261c6f1669a4aa4ae84963058d3c2cc2c6ac6734df34ad">VKImage::Type::TYPE_2D</a>,</div>
<div class="line"><span class="lineno">  240</span>            1U, 1U,</div>
<div class="line"><span class="lineno">  241</span>            <a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Kakshya_a6858a30e8f410b5f7808389074aa296f.html#a6858a30e8f410b5f7808389074aa296fae0221fb344a286ab09ad1e67ad280cdc">Kakshya::DataModality::IMAGE_COLOR</a>);</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>        VKImageResources res {};</div>
<div class="line"><span class="lineno">  244</span>        res.image = images[ctx-&gt;current_image_index];</div>
<div class="line"><span class="lineno">  245</span>        proxy-&gt;set_image_resources(res);</div>
<div class="line"><span class="lineno">  246</span>        proxy-&gt;set_current_layout(vk::ImageLayout::ePresentSrcKHR);</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>        <a class="code hl_variable" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_aa492da94243c3ba96241ea88f2fe0936.html#aa492da94243c3ba96241ea88f2fe0936">m_resource_manager</a>-&gt;<a class="code hl_function" href="classMayaFlux_1_1Core_1_1BackendResourceManager_aafa5d8311572679330d3f1d21407cc8c.html#aafa5d8311572679330d3f1d21407cc8c">download_image_data</a>(</div>
<div class="line"><span class="lineno">  249</span>            proxy,</div>
<div class="line"><span class="lineno">  250</span>            dst,</div>
<div class="line"><span class="lineno">  251</span>            byte_count,</div>
<div class="line"><span class="lineno">  252</span>            vk::ImageLayout::ePresentSrcKHR,</div>
<div class="line"><span class="lineno">  253</span>            vk::PipelineStageFlagBits::eBottomOfPipe);</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  256</span>    };</div>
<div class="line"><span class="lineno">  257</span>}</div>
<div class="ttc" id="aArchivist_8hpp_a546366b65403e0699d25b18a0322f1ef_html_a546366b65403e0699d25b18a0322f1ef"><div class="ttname"><a href="Archivist_8hpp_a546366b65403e0699d25b18a0322f1ef.html#a546366b65403e0699d25b18a0322f1ef">MF_RT_WARN</a></div><div class="ttdeci">#define MF_RT_WARN(comp, ctx,...)</div><div class="ttdef"><b>Definition</b> <a href="Archivist_8hpp_source.html#l00394">Archivist.hpp:394</a></div></div>
<div class="ttc" id="aArchivist_8hpp_a73c375e804fe99d5f0d6ad09d5a41837_html_a73c375e804fe99d5f0d6ad09d5a41837"><div class="ttname"><a href="Archivist_8hpp_a73c375e804fe99d5f0d6ad09d5a41837.html#a73c375e804fe99d5f0d6ad09d5a41837">MF_RT_ERROR</a></div><div class="ttdeci">#define MF_RT_ERROR(comp, ctx,...)</div><div class="ttdef"><b>Definition</b> <a href="Archivist_8hpp_source.html#l00398">Archivist.hpp:398</a></div></div>
<div class="ttc" id="aclassMayaFlux_1_1Core_1_1BackendResourceManager_aafa5d8311572679330d3f1d21407cc8c_html_aafa5d8311572679330d3f1d21407cc8c"><div class="ttname"><a href="classMayaFlux_1_1Core_1_1BackendResourceManager_aafa5d8311572679330d3f1d21407cc8c.html#aafa5d8311572679330d3f1d21407cc8c">MayaFlux::Core::BackendResourceManager::download_image_data</a></div><div class="ttdeci">void download_image_data(std::shared_ptr&lt; VKImage &gt; image, void *data, size_t size, vk::ImageLayout restore_layout=vk::ImageLayout::eShaderReadOnlyOptimal, vk::PipelineStageFlags restore_stage=vk::PipelineStageFlagBits::eFragmentShader)</div><div class="ttdoc">Download data from an image into a caller-supplied buffer.</div><div class="ttdef"><b>Definition</b> <a href="BackendResoureManager_8cpp_source.html#l00608">BackendResoureManager.cpp:608</a></div></div>
<div class="ttc" id="aclassMayaFlux_1_1Core_1_1BackendWindowHandler_a6471e3bb0fe7f5c466dc5f19317e617b_html_a6471e3bb0fe7f5c466dc5f19317e617b"><div class="ttname"><a href="classMayaFlux_1_1Core_1_1BackendWindowHandler_a6471e3bb0fe7f5c466dc5f19317e617b.html#a6471e3bb0fe7f5c466dc5f19317e617b">MayaFlux::Core::BackendWindowHandler::m_context</a></div><div class="ttdeci">VKContext &amp; m_context</div><div class="ttdef"><b>Definition</b> <a href="BackendWindowHandler_8hpp_source.html#l00089">BackendWindowHandler.hpp:89</a></div></div>
<div class="ttc" id="aclassMayaFlux_1_1Core_1_1BackendWindowHandler_aa4162043169e9d28a541ffe716c3ac41_html_aa4162043169e9d28a541ffe716c3ac41"><div class="ttname"><a href="classMayaFlux_1_1Core_1_1BackendWindowHandler_aa4162043169e9d28a541ffe716c3ac41.html#aa4162043169e9d28a541ffe716c3ac41">MayaFlux::Core::BackendWindowHandler::m_window_contexts</a></div><div class="ttdeci">std::vector&lt; WindowRenderContext &gt; m_window_contexts</div><div class="ttdef"><b>Definition</b> <a href="BackendWindowHandler_8hpp_source.html#l00091">BackendWindowHandler.hpp:91</a></div></div>
<div class="ttc" id="aclassMayaFlux_1_1Core_1_1BackendWindowHandler_aa492da94243c3ba96241ea88f2fe0936_html_aa492da94243c3ba96241ea88f2fe0936"><div class="ttname"><a href="classMayaFlux_1_1Core_1_1BackendWindowHandler_aa492da94243c3ba96241ea88f2fe0936.html#aa492da94243c3ba96241ea88f2fe0936">MayaFlux::Core::BackendWindowHandler::m_resource_manager</a></div><div class="ttdeci">BackendResourceManager * m_resource_manager</div><div class="ttdef"><b>Definition</b> <a href="BackendWindowHandler_8hpp_source.html#l00123">BackendWindowHandler.hpp:123</a></div></div>
<div class="ttc" id="aclassMayaFlux_1_1Core_1_1BackendWindowHandler_ac520b26cc34c777ba30e0a26bfd11660_html_ac520b26cc34c777ba30e0a26bfd11660"><div class="ttname"><a href="classMayaFlux_1_1Core_1_1BackendWindowHandler_ac520b26cc34c777ba30e0a26bfd11660.html#ac520b26cc34c777ba30e0a26bfd11660">MayaFlux::Core::BackendWindowHandler::submit_and_present</a></div><div class="ttdeci">void submit_and_present(const std::shared_ptr&lt; Window &gt; &amp;window, const vk::CommandBuffer &amp;command_buffer)</div><div class="ttdef"><b>Definition</b> <a href="BackendWindowHandler_8cpp_source.html#l00522">BackendWindowHandler.cpp:522</a></div></div>
<div class="ttc" id="aclassMayaFlux_1_1Core_1_1BackendWindowHandler_ae201b3e2121031059586c9abd5ba8480_html_ae201b3e2121031059586c9abd5ba8480"><div class="ttname"><a href="classMayaFlux_1_1Core_1_1BackendWindowHandler_ae201b3e2121031059586c9abd5ba8480.html#ae201b3e2121031059586c9abd5ba8480">MayaFlux::Core::BackendWindowHandler::find_window_context</a></div><div class="ttdeci">WindowRenderContext * find_window_context(const std::shared_ptr&lt; Window &gt; &amp;window)</div><div class="ttdef"><b>Definition</b> <a href="BackendWindowHandler_8cpp_source.html#l00259">BackendWindowHandler.cpp:259</a></div></div>
<div class="ttc" id="aclassMayaFlux_1_1Core_1_1VKContext_a41228db586851246809c40f704b64292_html_a41228db586851246809c40f704b64292"><div class="ttname"><a href="classMayaFlux_1_1Core_1_1VKContext_a41228db586851246809c40f704b64292.html#a41228db586851246809c40f704b64292">MayaFlux::Core::VKContext::get_device</a></div><div class="ttdeci">vk::Device get_device() const</div><div class="ttdoc">Get logical device.</div><div class="ttdef"><b>Definition</b> <a href="VKContext_8hpp_source.html#l00049">VKContext.hpp:49</a></div></div>
<div class="ttc" id="aclassMayaFlux_1_1Core_1_1VKImage_a603d6ef31c19453be73d8a72929184ef_html_a603d6ef31c19453be73d8a72929184efacc301ce75e16247f3b96a3907519096c"><div class="ttname"><a href="classMayaFlux_1_1Core_1_1VKImage_a603d6ef31c19453be73d8a72929184ef.html#a603d6ef31c19453be73d8a72929184efacc301ce75e16247f3b96a3907519096c">MayaFlux::Core::VKImage::Usage::TEXTURE_2D</a></div><div class="ttdeci">@ TEXTURE_2D</div><div class="ttdoc">Sampled texture (shader read)</div></div>
<div class="ttc" id="aclassMayaFlux_1_1Core_1_1VKImage_aa3dbd587a3443bc4ce7261c6f1669a4a_html_aa3dbd587a3443bc4ce7261c6f1669a4aa4ae84963058d3c2cc2c6ac6734df34ad"><div class="ttname"><a href="classMayaFlux_1_1Core_1_1VKImage_aa3dbd587a3443bc4ce7261c6f1669a4a.html#aa3dbd587a3443bc4ce7261c6f1669a4aa4ae84963058d3c2cc2c6ac6734df34ad">MayaFlux::Core::VKImage::Type::TYPE_2D</a></div><div class="ttdeci">@ TYPE_2D</div></div>
<div class="ttc" id="anamespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d_html_a4d1f572381818d4f67c4a5294d68ef2dacc0f8243381df540a4c3aa0d950413b9"><div class="ttname"><a href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2dacc0f8243381df540a4c3aa0d950413b9">MayaFlux::Journal::Context::GraphicsCallback</a></div><div class="ttdeci">@ GraphicsCallback</div><div class="ttdoc">Graphics/visual rendering callback - frame-rate real-time.</div></div>
<div class="ttc" id="anamespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f_html_ad918cd0db16e3f2184007817220b837fa83168e6cb289d732cc78427b51f93153"><div class="ttname"><a href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa83168e6cb289d732cc78427b51f93153">MayaFlux::Journal::Component::Core</a></div><div class="ttdeci">@ Core</div><div class="ttdoc">Core engine, backend, subsystems.</div></div>
<div class="ttc" id="anamespaceMayaFlux_1_1Kakshya_a6858a30e8f410b5f7808389074aa296f_html_a6858a30e8f410b5f7808389074aa296fae0221fb344a286ab09ad1e67ad280cdc"><div class="ttname"><a href="namespaceMayaFlux_1_1Kakshya_a6858a30e8f410b5f7808389074aa296f.html#a6858a30e8f410b5f7808389074aa296fae0221fb344a286ab09ad1e67ad280cdc">MayaFlux::Kakshya::DataModality::IMAGE_COLOR</a></div><div class="ttdeci">@ IMAGE_COLOR</div><div class="ttdoc">2D RGB/RGBA image</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa83168e6cb289d732cc78427b51f93153">MayaFlux::Journal::Core</a>, <a class="el" href="BackendResoureManager_8cpp_source.html#l00608">MayaFlux::Core::BackendResourceManager::download_image_data()</a>, <a class="el" href="BackendWindowHandler_8cpp_source.html#l00259">find_window_context()</a>, <a class="el" href="VKContext_8hpp_source.html#l00049">MayaFlux::Core::VKContext::get_device()</a>, <a class="el" href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2dacc0f8243381df540a4c3aa0d950413b9">MayaFlux::Journal::GraphicsCallback</a>, <a class="el" href="VKImage_8hpp_source.html#l00016">MayaFlux::Core::VKImageResources::image</a>, <a class="el" href="namespaceMayaFlux_1_1Kakshya_a6858a30e8f410b5f7808389074aa296f.html#a6858a30e8f410b5f7808389074aa296fae0221fb344a286ab09ad1e67ad280cdc">MayaFlux::Kakshya::IMAGE_COLOR</a>, <a class="el" href="BackendWindowHandler_8hpp_source.html#l00089">m_context</a>, <a class="el" href="BackendWindowHandler_8hpp_source.html#l00123">m_resource_manager</a>, <a class="el" href="BackendWindowHandler_8hpp_source.html#l00091">m_window_contexts</a>, <a class="el" href="Archivist_8hpp_source.html#l00398">MF_RT_ERROR</a>, <a class="el" href="Archivist_8hpp_source.html#l00394">MF_RT_WARN</a>, <a class="el" href="BackendWindowHandler_8cpp_source.html#l00522">submit_and_present()</a>, <a class="el" href="classMayaFlux_1_1Core_1_1VKImage_a603d6ef31c19453be73d8a72929184ef.html#a603d6ef31c19453be73d8a72929184efacc301ce75e16247f3b96a3907519096c">MayaFlux::Core::VKImage::TEXTURE_2D</a>, and <a class="el" href="classMayaFlux_1_1Core_1_1VKImage_aa3dbd587a3443bc4ce7261c6f1669a4a.html#aa3dbd587a3443bc4ce7261c6f1669a4aa4ae84963058d3c2cc2c6ac6734df34ad">MayaFlux::Core::VKImage::TYPE_2D</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classMayaFlux_1_1Core_1_1BackendWindowHandler_aa812bf045d7548824a757d712b1b3e75_aa812bf045d7548824a757d712b1b3e75_cgraph.png" border="0" usemap="#aclassMayaFlux_1_1Core_1_1BackendWindowHandler_aa812bf045d7548824a757d712b1b3e75_aa812bf045d7548824a757d712b1b3e75_cgraph" alt=""/></div>
<map name="aclassMayaFlux_1_1Core_1_1BackendWindowHandler_aa812bf045d7548824a757d712b1b3e75_aa812bf045d7548824a757d712b1b3e75_cgraph" id="aclassMayaFlux_1_1Core_1_1BackendWindowHandler_aa812bf045d7548824a757d712b1b3e75_aa812bf045d7548824a757d712b1b3e75_cgraph">
<area shape="rect" title=" " alt="" coords="5,95,244,135"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1BackendResourceManager_aafa5d8311572679330d3f1d21407cc8c.html#aafa5d8311572679330d3f1d21407cc8c" title="Download data from an image into a caller&#45;supplied buffer." alt="" coords="292,63,539,103"/>
<area shape="poly" title=" " alt="" coords="244,99,278,95,279,100,245,104"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1VKContext_a41228db586851246809c40f704b64292.html#a41228db586851246809c40f704b64292" title="Get logical device." alt="" coords="905,5,1105,45"/>
<area shape="poly" title=" " alt="" coords="167,92,225,68,291,48,371,32,453,21,616,9,767,8,891,13,891,19,767,14,616,14,453,26,372,37,293,53,227,74,169,97"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_ae201b3e2121031059586c9abd5ba8480.html#ae201b3e2121031059586c9abd5ba8480" title=" " alt="" coords="296,127,535,167"/>
<area shape="poly" title=" " alt="" coords="245,125,282,129,282,135,244,130"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1BackendWindowHandler_ac520b26cc34c777ba30e0a26bfd11660.html#ac520b26cc34c777ba30e0a26bfd11660" title=" " alt="" coords="296,191,535,231"/>
<area shape="poly" title=" " alt="" coords="175,132,293,176,320,184,318,189,291,181,173,137"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1BackendResourceManager_a0db85a56fc0aa2720febc7f3e8c3dbf9.html#a0db85a56fc0aa2720febc7f3e8c3dbf9" title="Cleanup a buffer and release associated resources." alt="" coords="587,63,833,103"/>
<area shape="poly" title=" " alt="" coords="539,80,573,80,573,85,539,85"/>
<area shape="poly" title=" " alt="" coords="511,60,586,48,745,33,891,26,891,31,746,39,587,53,512,65"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1BackendResourceManager_a5dcf25547288ef33225a71929a05c358.html#a5dcf25547288ef33225a71929a05c358" title="Execute immediate command recording for buffer operations." alt="" coords="587,237,833,291"/>
<area shape="poly" title=" " alt="" coords="518,101,540,112,557,128,566,144,575,160,589,177,619,203,652,227,649,231,616,207,585,181,570,162,562,146,553,131,537,117,516,105"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1BackendResourceManager_ad1bfc97eb921df611d3503d11e6e2347.html#ad1bfc97eb921df611d3503d11e6e2347" title="Initialize a buffer for use with the graphics backend." alt="" coords="587,127,833,167"/>
<area shape="poly" title=" " alt="" coords="509,100,605,121,604,126,508,105"/>
<area shape="poly" title=" " alt="" coords="813,60,891,45,892,50,814,65"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1VKDevice_ac91623c4b7b52f1f5f7460ef91021583.html#ac91623c4b7b52f1f5f7460ef91021583" title="Get logical device handle." alt="" coords="1207,5,1401,45"/>
<area shape="poly" title=" " alt="" coords="1105,23,1193,23,1193,28,1105,28"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1VKCommandManager_a8e859b77baae66a4cad3578d2a863f76.html#a8e859b77baae66a4cad3578d2a863f76" title="Begin single&#45;time command (for transfers, etc.)" alt="" coords="897,198,1113,253"/>
<area shape="poly" title=" " alt="" coords="833,245,883,239,883,244,834,250"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1VKCommandManager_a37f459a66acc77d0b833ab5a993f8253.html#a37f459a66acc77d0b833ab5a993f8253" title="End and submit single&#45;time command." alt="" coords="897,277,1113,331"/>
<area shape="poly" title=" " alt="" coords="834,278,883,285,883,290,833,283"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1VKContext_a87b4589aa8858027f09e7370552b4d50.html#a87b4589aa8858027f09e7370552b4d50" title="Get graphics queue." alt="" coords="905,356,1105,396"/>
<area shape="poly" title=" " alt="" coords="764,289,820,316,882,342,906,350,905,355,880,346,818,321,762,294"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1VKCommandManager_ab25f2104b7f013fca0c7876ade0632b5.html#ab25f2104b7f013fca0c7876ade0632b5" title="Allocate a command buffer with specified level." alt="" coords="1176,205,1432,245"/>
<area shape="poly" title=" " alt="" coords="1113,223,1162,223,1162,228,1113,228"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1VKCommandManager_a59f7b69e5c3f53d77c1c5e8f2e206d89.html#a59f7b69e5c3f53d77c1c5e8f2e206d89" title="Free a command buffer back to the pool." alt="" coords="1189,284,1419,324"/>
<area shape="poly" title=" " alt="" coords="1113,301,1175,301,1175,307,1113,307"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1VKDevice_af1941d43ae76316ef044a61450e7aa1c.html#af1941d43ae76316ef044a61450e7aa1c" title="Get graphics queue." alt="" coords="1207,356,1401,396"/>
<area shape="poly" title=" " alt="" coords="1105,373,1193,373,1193,379,1105,379"/>
<area shape="poly" title=" " alt="" coords="809,124,832,112,847,99,855,85,864,70,880,55,891,49,894,53,883,59,868,73,860,87,851,102,835,117,811,129"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1BackendResourceManager_ab4e39f5b542838628a267c0cfe94dba4.html#ab4e39f5b542838628a267c0cfe94dba4" title="Find a suitable memory type for Vulkan buffer allocation." alt="" coords="881,69,1128,109"/>
<area shape="poly" title=" " alt="" coords="813,124,888,109,889,115,814,129"/>
<area shape="rect" href="namespaceMayaFlux_1_1Kakshya_aedc3538e77f59c4a4d91df28e181d066.html#aedc3538e77f59c4a4d91df28e181d066" title="Convert DataModality enum to string representation." alt="" coords="925,133,1084,173"/>
<area shape="poly" title=" " alt="" coords="834,147,912,149,911,154,833,152"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1VKContext_abb26eca0db297f0a9545aee095450aa1.html#abb26eca0db297f0a9545aee095450aa1" title="Get physical device." alt="" coords="1204,69,1404,109"/>
<area shape="poly" title=" " alt="" coords="1128,87,1190,87,1190,92,1128,92"/>
<area shape="rect" href="classMayaFlux_1_1Core_1_1VKDevice_a094d1ed720c72ced04293743f4b2a63e.html#a094d1ed720c72ced04293743f4b2a63e" title="Get physical device handle." alt="" coords="1480,69,1675,109"/>
<area shape="poly" title=" " alt="" coords="1404,87,1466,87,1466,92,1404,92"/>
<area shape="rect" href="namespaceMayaFlux_1_1Reflect_aad91118cbd25bd9e35a3ced9aa4e6dbd.html#aad91118cbd25bd9e35a3ced9aa4e6dbd" title="Universal enum to string converter using magic_enum (original case)" alt="" coords="1231,133,1377,173"/>
<area shape="poly" title=" " alt="" coords="1084,151,1217,151,1217,156,1084,156"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceMayaFlux.html">MayaFlux</a></li><li class="navelem"><a class="el" href="namespaceMayaFlux_1_1Core.html">Core</a></li><li class="navelem"><a class="el" href="classMayaFlux_1_1Core_1_1BackendWindowHandler.html">BackendWindowHandler</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
