<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MayaFlux: MayaFlux::Buffers::BufferProcessor::process</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MayaFlux<span id="projectnumber">&#160;0.2.0</span>
   </div>
   <div id="projectbrief">Digital-First Multimedia Processing Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classMayaFlux_1_1Buffers_1_1BufferProcessor_a8d78744c6eeea932aceea31ea7bf2559.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="contents">
<a id="a8d78744c6eeea932aceea31ea7bf2559" name="a8d78744c6eeea932aceea31ea7bf2559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d78744c6eeea932aceea31ea7bf2559">&#9670;&#160;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MayaFlux::Buffers::BufferProcessor::process </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classMayaFlux_1_1Buffers_1_1Buffer.html">Buffer</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Applies a computational transformation to the data in the provided buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td><a class="el" href="classMayaFlux_1_1Buffers_1_1Buffer.html" title="Backend-agnostic interface for sequential data storage and transformation.">Buffer</a> to transform</td></tr>
  </table>
  </dd>
</dl>
<p>This is the main transformation method that must be implemented by all concrete processor classes. It applies the processor's algorithm to the data in the buffer, potentially modifying it in-place or generating derived information. The processor has full agency over how the transformation is executed, including:</p>
<ul>
<li><b>Backend Selection</b>: Choosing between CPU, GPU, or specialized hardware backends</li>
<li><b>Execution Strategy</b>: Sequential vs parallel processing based on data characteristics</li>
<li><b><a class="el" href="namespaceMayaFlux_1_1Memory.html">Memory</a> Management</b>: Optimizing data layout and access patterns for performance</li>
<li><b>Resource Utilization</b>: Leveraging available hardware acceleration when beneficial</li>
</ul>
<p>The method works seamlessly with any data type supported by the buffer interface, automatically adapting to audio samples, video frames, texture data, or other specialized buffer contents while maintaining type safety through the buffer abstraction. This method calls the core processing function defined in derived classes, with atomic thread-safe management of processing state to ensure that concurrent access does not lead to race conditions or data corruption. </p>

<p class="definition">Definition at line <a class="el" href="BufferProcessor_8cpp_source.html#l00008">8</a> of file <a class="el" href="BufferProcessor_8cpp_source.html">BufferProcessor.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    9</span>{</div>
<div class="line"><span class="lineno">   10</span>    <span class="keywordflow">if</span> (!buffer-&gt;try_acquire_processing()) {</div>
<div class="line"><span class="lineno">   11</span>        <a class="code hl_define" href="Archivist_8hpp_a73c375e804fe99d5f0d6ad09d5a41837.html#a73c375e804fe99d5f0d6ad09d5a41837">MF_RT_ERROR</a>(<a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa4c19ddb10d5a902842dda06a62c3d601">Journal::Component::Buffers</a>, <a class="code hl_enumvalue" href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2da735d68fa607cb19e9f6380a0d0d54d0e">Journal::Context::BufferProcessing</a>,</div>
<div class="line"><span class="lineno">   12</span>            <span class="stringliteral">&quot;Buffer is already being processed, skipping processor&quot;</span>);</div>
<div class="line"><span class="lineno">   13</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   14</span>    }</div>
<div class="line"><span class="lineno">   15</span> </div>
<div class="line"><span class="lineno">   16</span>    <a class="code hl_variable" href="classMayaFlux_1_1Buffers_1_1BufferProcessor_a981e9380b4dcbadbfc0f15301fc0bd5d.html#a981e9380b4dcbadbfc0f15301fc0bd5d">m_active_processing</a>.fetch_add(1, std::memory_order_acquire);</div>
<div class="line"><span class="lineno">   17</span> </div>
<div class="line"><span class="lineno">   18</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   19</span>        <a class="code hl_function" href="classMayaFlux_1_1Buffers_1_1BufferProcessor_affdb219994d3337c3deafa77e7bc4017.html#affdb219994d3337c3deafa77e7bc4017">processing_function</a>(buffer);</div>
<div class="line"><span class="lineno">   20</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">   21</span>        buffer-&gt;release_processing();</div>
<div class="line"><span class="lineno">   22</span>        <a class="code hl_variable" href="classMayaFlux_1_1Buffers_1_1BufferProcessor_a981e9380b4dcbadbfc0f15301fc0bd5d.html#a981e9380b4dcbadbfc0f15301fc0bd5d">m_active_processing</a>.fetch_sub(1, std::memory_order_release);</div>
<div class="line"><span class="lineno">   23</span>        <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">   24</span>    }</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>    buffer-&gt;release_processing();</div>
<div class="line"><span class="lineno">   27</span>    <a class="code hl_variable" href="classMayaFlux_1_1Buffers_1_1BufferProcessor_a981e9380b4dcbadbfc0f15301fc0bd5d.html#a981e9380b4dcbadbfc0f15301fc0bd5d">m_active_processing</a>.fetch_sub(1, std::memory_order_release);</div>
<div class="line"><span class="lineno">   28</span>}</div>
<div class="ttc" id="aArchivist_8hpp_a73c375e804fe99d5f0d6ad09d5a41837_html_a73c375e804fe99d5f0d6ad09d5a41837"><div class="ttname"><a href="Archivist_8hpp_a73c375e804fe99d5f0d6ad09d5a41837.html#a73c375e804fe99d5f0d6ad09d5a41837">MF_RT_ERROR</a></div><div class="ttdeci">#define MF_RT_ERROR(comp, ctx,...)</div><div class="ttdef"><b>Definition</b> <a href="Archivist_8hpp_source.html#l00398">Archivist.hpp:398</a></div></div>
<div class="ttc" id="aclassMayaFlux_1_1Buffers_1_1BufferProcessor_a981e9380b4dcbadbfc0f15301fc0bd5d_html_a981e9380b4dcbadbfc0f15301fc0bd5d"><div class="ttname"><a href="classMayaFlux_1_1Buffers_1_1BufferProcessor_a981e9380b4dcbadbfc0f15301fc0bd5d.html#a981e9380b4dcbadbfc0f15301fc0bd5d">MayaFlux::Buffers::BufferProcessor::m_active_processing</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; m_active_processing</div><div class="ttdef"><b>Definition</b> <a href="BufferProcessor_8hpp_source.html#l00186">BufferProcessor.hpp:186</a></div></div>
<div class="ttc" id="aclassMayaFlux_1_1Buffers_1_1BufferProcessor_affdb219994d3337c3deafa77e7bc4017_html_affdb219994d3337c3deafa77e7bc4017"><div class="ttname"><a href="classMayaFlux_1_1Buffers_1_1BufferProcessor_affdb219994d3337c3deafa77e7bc4017.html#affdb219994d3337c3deafa77e7bc4017">MayaFlux::Buffers::BufferProcessor::processing_function</a></div><div class="ttdeci">virtual void processing_function(const std::shared_ptr&lt; Buffer &gt; &amp;buffer)=0</div><div class="ttdoc">The core processing function that must be implemented by derived classes.</div></div>
<div class="ttc" id="anamespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d_html_a4d1f572381818d4f67c4a5294d68ef2da735d68fa607cb19e9f6380a0d0d54d0e"><div class="ttname"><a href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2da735d68fa607cb19e9f6380a0d0d54d0e">MayaFlux::Journal::Context::BufferProcessing</a></div><div class="ttdeci">@ BufferProcessing</div><div class="ttdoc">Buffer processing (Buffers::BufferManager, processing chains)</div></div>
<div class="ttc" id="anamespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f_html_ad918cd0db16e3f2184007817220b837fa4c19ddb10d5a902842dda06a62c3d601"><div class="ttname"><a href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa4c19ddb10d5a902842dda06a62c3d601">MayaFlux::Journal::Component::Buffers</a></div><div class="ttdeci">@ Buffers</div><div class="ttdoc">Buffers, Managers, processors and processing chains.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceMayaFlux_1_1Journal_a4d1f572381818d4f67c4a5294d68ef2d.html#a4d1f572381818d4f67c4a5294d68ef2da735d68fa607cb19e9f6380a0d0d54d0e">MayaFlux::Journal::BufferProcessing</a>, <a class="el" href="namespaceMayaFlux_1_1Journal_ad918cd0db16e3f2184007817220b837f.html#ad918cd0db16e3f2184007817220b837fa4c19ddb10d5a902842dda06a62c3d601">MayaFlux::Journal::Buffers</a>, <a class="el" href="BufferProcessor_8hpp_source.html#l00186">m_active_processing</a>, <a class="el" href="Archivist_8hpp_source.html#l00398">MF_RT_ERROR</a>, and <a class="el" href="classMayaFlux_1_1Buffers_1_1BufferProcessor_affdb219994d3337c3deafa77e7bc4017.html#affdb219994d3337c3deafa77e7bc4017">processing_function()</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classMayaFlux_1_1Buffers_1_1BufferProcessor_a8d78744c6eeea932aceea31ea7bf2559_a8d78744c6eeea932aceea31ea7bf2559_cgraph.png" border="0" usemap="#aclassMayaFlux_1_1Buffers_1_1BufferProcessor_a8d78744c6eeea932aceea31ea7bf2559_a8d78744c6eeea932aceea31ea7bf2559_cgraph" alt=""/></div>
<map name="aclassMayaFlux_1_1Buffers_1_1BufferProcessor_a8d78744c6eeea932aceea31ea7bf2559_a8d78744c6eeea932aceea31ea7bf2559_cgraph" id="aclassMayaFlux_1_1Buffers_1_1BufferProcessor_a8d78744c6eeea932aceea31ea7bf2559_a8d78744c6eeea932aceea31ea7bf2559_cgraph">
<area shape="rect" title="Applies a computational transformation to the data in the provided buffer." alt="" coords="5,13,188,53"/>
<area shape="rect" href="classMayaFlux_1_1Buffers_1_1BufferProcessor_affdb219994d3337c3deafa77e7bc4017.html#affdb219994d3337c3deafa77e7bc4017" title="The core processing function that must be implemented by derived classes." alt="" coords="236,5,439,60"/>
<area shape="poly" title=" " alt="" coords="188,30,222,30,222,35,188,35"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceMayaFlux.html">MayaFlux</a></li><li class="navelem"><a class="el" href="namespaceMayaFlux_1_1Buffers.html">Buffers</a></li><li class="navelem"><a class="el" href="classMayaFlux_1_1Buffers_1_1BufferProcessor.html">BufferProcessor</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
